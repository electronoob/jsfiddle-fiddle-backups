<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script
    type="text/javascript"
    src="/js/lib/dummy.js"
    
  ></script>

    <link rel="stylesheet" type="text/css" href="/css/result-light.css">


  <style id="compiled-css" type="text/css">
      
  </style>


  <!-- TODO: Missing CoffeeScript 2 -->

  <script type="text/javascript">//<![CDATA[

    window.onload=function(){
      
// gradient descent
var ctx = c.getContext('2d');
var m = 0; // slope of line
var b = 0; // y intercept
var iterations = 250;
var iterationcount = 0;
var learningrate = 0.01;
var data = [
  {
    "x": 32.50234526945303,
    "y": 31.70700584656992
  },
  {
    "x": 53.42680403327502,
    "y": 68.77759598163891
  },
  {
    "x": 61.53035802563644,
    "y": 62.5623822979458
  },
  {
    "x": 47.4756396347861,
    "y": 71.54663223356778
  },
  {
    "x": 59.81320786951232,
    "y": 87.23092513368739
  },
  {
    "x": 55.14218841394382,
    "y": 78.21151827079923
  },
  {
    "x": 52.211796692214,
    "y": 79.64197304980874
  },
  {
    "x": 39.299566694317065,
    "y": 59.17148932186951
  },
  {
    "x": 48.10504169176825,
    "y": 75.33124229706306
  },
  {
    "x": 52.55001444273382,
    "y": 71.30087988685035
  },
  {
    "x": 45.419730144973755,
    "y": 55.16567714595912
  },
  {
    "x": 54.35163488122892,
    "y": 82.47884675749792
  },
  {
    "x": 44.16404949677335,
    "y": 62.008923245725825
  },
  {
    "x": 58.16847071685779,
    "y": 75.39287042599496
  },
  {
    "x": 56.72720805709661,
    "y": 81.43619215887864
  },
  {
    "x": 48.95588856609372,
    "y": 60.723602440673965
  },
  {
    "x": 44.687196231480904,
    "y": 82.89250373145371
  },
  {
    "x": 60.297326851333466,
    "y": 97.37989686216608
  },
  {
    "x": 45.61864377295583,
    "y": 48.84715331735507
  },
  {
    "x": 38.81681753744564,
    "y": 56.877213186268506
  },
  {
    "x": 66.1898166067526,
    "y": 83.87856466460276
  },
  {
    "x": 65.41605174513407,
    "y": 118.5912173025225
  },
  {
    "x": 47.48120860786787,
    "y": 57.25181946226897
  },
  {
    "x": 41.57564261748702,
    "y": 51.39174407983231
  },
  {
    "x": 51.84518690563943,
    "y": 75.38065166531236
  },
  {
    "x": 59.37082201108952,
    "y": 74.76556403215137
  },
  {
    "x": 57.31000343834809,
    "y": 95.45505292257474
  },
  {
    "x": 63.61556125145331,
    "y": 95.22936601755531
  },
  {
    "x": 46.73761940797697,
    "y": 79.05240616956559
  },
  {
    "x": 50.55676014854777,
    "y": 83.43207142132371
  },
  {
    "x": 52.22399608555305,
    "y": 63.35879031749788
  },
  {
    "x": 35.56783004774663,
    "y": 41.41288530370056
  },
  {
    "x": 42.43647694405564,
    "y": 76.61734128007404
  },
  {
    "x": 58.16454011019286,
    "y": 96.7695664261082
  },
  {
    "x": 57.50444761534179,
    "y": 74.08413011660252
  },
  {
    "x": 45.44053072531998,
    "y": 66.5881444142286
  },
  {
    "x": 61.89622268029126,
    "y": 77.76848241779302
  },
  {
    "x": 33.09383173616396,
    "y": 50.71958891231208
  },
  {
    "x": 36.43600951138687,
    "y": 62.12457081807178
  },
  {
    "x": 37.67565486085074,
    "y": 60.81024664990221
  },
  {
    "x": 44.555608383275356,
    "y": 52.68298336638778
  },
  {
    "x": 43.31828263186572,
    "y": 58.56982471769287
  },
  {
    "x": 50.073145632289034,
    "y": 82.90598148507051
  },
  {
    "x": 43.87061264521837,
    "y": 61.42470980433912
  },
  {
    "x": 62.99748074755309,
    "y": 115.24415280079529
  },
  {
    "x": 32.66904376346719,
    "y": 45.570588823376085
  },
  {
    "x": 40.1668990087037,
    "y": 54.08405479622361
  },
  {
    "x": 53.57507753167366,
    "y": 87.99445275811041
  },
  {
    "x": 33.86421497177824,
    "y": 52.725494375900425
  },
  {
    "x": 64.7071386661213,
    "y": 93.57611869265824
  },
  {
    "x": 38.119824026822805,
    "y": 80.16627544737096
  },
  {
    "x": 44.5025380646451,
    "y": 65.10171157056033
  },
  {
    "x": 40.59953838455232,
    "y": 65.56230126040037
  },
  {
    "x": 41.72067635634129,
    "y": 65.28088692082282
  },
  {
    "x": 51.088634678336796,
    "y": 73.4346415463243
  },
  {
    "x": 55.0780959049232,
    "y": 71.13972785861894
  },
  {
    "x": 41.3777265348952,
    "y": 79.10282968354986
  },
  {
    "x": 62.49469742726979,
    "y": 86.52053844034715
  },
  {
    "x": 49.203887540826,
    "y": 84.74269780782622
  },
  {
    "x": 41.102685187349664,
    "y": 59.35885024862493
  },
  {
    "x": 41.18201610516982,
    "y": 61.68403752483363
  },
  {
    "x": 50.1863894948806,
    "y": 69.84760415824918
  },
  {
    "x": 52.37844621923622,
    "y": 86.0982912057741
  },
  {
    "x": 50.13548548628612,
    "y": 59.10883926769964
  },
  {
    "x": 33.64470600619178,
    "y": 69.89968164362763
  },
  {
    "x": 39.55790122290683,
    "y": 44.8624907111644
  },
  {
    "x": 56.13038881687547,
    "y": 85.49806777884022
  },
  {
    "x": 57.36205213323824,
    "y": 95.53668684646722
  },
  {
    "x": 60.269214393997906,
    "y": 70.25193441977159
  },
  {
    "x": 35.67809388941073,
    "y": 52.72173496477499
  },
  {
    "x": 31.58811699813283,
    "y": 50.3926701350799
  },
  {
    "x": 53.66093226167304,
    "y": 63.64239877565775
  },
  {
    "x": 46.68222864947192,
    "y": 72.24725106866237
  },
  {
    "x": 43.107820219102464,
    "y": 57.8125129761814
  },
  {
    "x": 70.34607561504933,
    "y": 104.25710158543822
  },
  {
    "x": 44.49285588085407,
    "y": 86.642020318822
  },
  {
    "x": 57.50453330326841,
    "y": 91.48677800011014
  },
  {
    "x": 36.93007660919181,
    "y": 55.231660886212836
  },
  {
    "x": 55.80573335794274,
    "y": 79.55043667850761
  },
  {
    "x": 38.954769073377065,
    "y": 44.8471242424676
  },
  {
    "x": 56.901214702247074,
    "y": 80.20752313968276
  },
  {
    "x": 56.868900661384046,
    "y": 83.14274979204346
  },
  {
    "x": 34.33312470421609,
    "y": 55.723489260543914
  },
  {
    "x": 59.04974121466681,
    "y": 77.63418251167786
  },
  {
    "x": 57.78822399323067,
    "y": 99.05141484174827
  },
  {
    "x": 54.28232870596741,
    "y": 79.12064627468003
  },
  {
    "x": 51.08871989897914,
    "y": 69.58889785111847
  },
  {
    "x": 50.28283634823073,
    "y": 69.51050331149439
  },
  {
    "x": 44.21174175209011,
    "y": 73.68756431831729
  },
  {
    "x": 38.00548800806069,
    "y": 61.36690453724013
  },
  {
    "x": 32.940479942618296,
    "y": 67.17065576899512
  },
  {
    "x": 53.691639571070056,
    "y": 85.66820314500154
  },
  {
    "x": 68.76573426962166,
    "y": 114.85387123391394
  },
  {
    "x": 46.23096649831025,
    "y": 90.12357206996742
  },
  {
    "x": 68.31936081825536,
    "y": 97.91982103524285
  },
  {
    "x": 50.03017434031214,
    "y": 81.53699078301503
  },
  {
    "x": 49.23976534275376,
    "y": 72.11183246961566
  },
  {
    "x": 50.03957593987599,
    "y": 85.23200734232567
  },
  {
    "x": 48.14985889102886,
    "y": 66.22495788805463
  },
  {
    "x": 25.128484647772304,
    "y": 53.454394214850524
  }
];
var lastsum = 200000;
var draw=function () {
	ctx.fillStyle='red';
  ctx.clearRect(0,0,500,500);
  data.forEach(function callback(c, index, array) {
    ctx.fillRect (c.x*2,300-c.y*2,1,1);
	});
ctx.fillStyle='green';
  for (x=0;x<=500;x+=1){
   y = m * x + b;
   ctx.fillRect(x,300-y,1,1);
  }
  var sum = 0;
  // lets try to do some calculation stuff
  data.forEach(function callback(c, index, array) {
    y = m * c.x + b;
    q = Math.pow(y-c.y,2);
    sum += q;
	});
  sum /= data.length;
  iterationcount++;
  console.log(sum, lastsum, iterationcount)
  if(lastsum > sum) {
  m+=learningrate;
  }else {
  m-=learningrate;
  }
  lastsum = sum;
  if(iterations >= iterationcount)
  window.requestAnimationFrame(draw);
}
draw();







    }

  //]]></script>

</head>
<body>
    <canvas width="500px" height="300px" id=c></canvas>

  
  <script>
    // tell the embed parent frame the height of the content
    if (window.parent && window.parent.parent){
      window.parent.parent.postMessage(["resultsFrame", {
        height: document.body.getBoundingClientRect().height,
        slug: "35pcby6f"
      }], "*")
    }

    // always overwrite window.name, in case users try to set it manually
    window.name = "result"
  </script>
</body>
</html>
